Werkzeug appears to be used in a production deployment. Consider switching to a production web server instead.
 * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://172.28.125.59:5001
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [30/Oct/2025 23:20:09] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:20:50] "GET /api/artisan/{artisan_id}/products HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:20:57] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:20:57] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:20:57] "GET /api/cart/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:00] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:01] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:03] "GET /api/products/?limit=4&featured=true HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:04] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:04] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:06] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:06] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:08] "GET /api/products/?limit=4&featured=true HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:22] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:22] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:24] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:24] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:39] "GET /api/products/d2844319-daf3-4f35-96b8-5809a1f09289 HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:21:40] "GET /api/products/d2844319-daf3-4f35-96b8-5809a1f09289 HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:07] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:07] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:07] "GET /api/cart/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:08] "GET /api/cart/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:09] "GET /api/products/d2844319-daf3-4f35-96b8-5809a1f09289 HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:10] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:11] "GET /api/products/d2844319-daf3-4f35-96b8-5809a1f09289 HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:13] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:14] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:14] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:15] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:15] "OPTIONS /api/cart/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:15] "[35m[1mPOST /api/cart/ HTTP/1.1[0m" 201 -
127.0.0.1 - - [30/Oct/2025 23:26:22] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:22] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:40] "GET /api/products/d2844319-daf3-4f35-96b8-5809a1f09289 HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:26:41] "GET /api/products/d2844319-daf3-4f35-96b8-5809a1f09289 HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:27:28] "GET /api/products/?limit=4&featured=true HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:27:32] "GET /api/products/?limit=4&featured=true HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:27:41] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:27:41] "POST /api/auth/logout HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:27:52] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:27:53] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:27:53] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:28:00] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:43:25] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:43:25] "GET /api/auth/session HTTP/1.1" 200 -
[2025-10-30 23:43:28,048] ERROR in app: Exception on /api/categories/ [GET]
Traceback (most recent call last):
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.OperationalError: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/flask_restful/__init__.py", line 489, in wrapper
    resp = resource(*args, **kwargs)
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/flask/views.py", line 110, in view
    return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/flask_restful/__init__.py", line 604, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/home/feisal/Development/code/phase-5/soko-safi/server/app/routes/category_routes.py", line 19, in get
    categories = Category.query.filter_by(deleted_at=None).all()
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/feisal/.pyenv/versions/3.8.13/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

[SQL: SELECT categories.id AS categories_id, categories.name AS categories_name, categories.description AS categories_description, categories.created_at AS categories_created_at, categories.updated_at AS categories_updated_at, categories.deleted_at AS categories_deleted_at 
FROM categories 
WHERE categories.deleted_at IS NULL]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
127.0.0.1 - - [30/Oct/2025 23:43:28] "[35m[1mGET /api/categories/ HTTP/1.1[0m" 500 -
127.0.0.1 - - [30/Oct/2025 23:43:32] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:43:40] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:43:47] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:43:48] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:43:58] "OPTIONS /api/auth/login HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:03] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:03] "POST /api/auth/login HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:04] "GET /api/cart/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:04] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:04] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:04] "GET /api/artisan/dashboard HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:04] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:05] "GET /api/artisan/dashboard HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:04] "GET /api/artisan/4cb449c0-1ce4-44d0-aad3-4e1511d3ad8e/products HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:05] "GET /api/artisan/4cb449c0-1ce4-44d0-aad3-4e1511d3ad8e/products HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:08] "GET /api/auth/profile HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:09] "GET /api/auth/profile HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:14] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:15] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:25] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:26] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:47] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:47] "OPTIONS /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:44:50] "[35m[1mPOST /api/products/ HTTP/1.1[0m" 201 -
127.0.0.1 - - [30/Oct/2025 23:44:51] "GET /api/artisan/4cb449c0-1ce4-44d0-aad3-4e1511d3ad8e/products HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:45:41] "GET /api/products/?limit=4&featured=true HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:45:44] "GET /api/products/?limit=4&featured=true HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:45:49] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:45:50] "GET /api/categories/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:45:52] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:45:55] "GET /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:47:57] "OPTIONS /api/auth/logout HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:47:58] "POST /api/auth/logout HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:10] "OPTIONS /api/auth/login HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:11] "POST /api/auth/login HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:12] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:12] "GET /api/cart/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:12] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:12] "GET /api/artisan/dashboard HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:12] "GET /api/artisan/dashboard HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:13] "GET /api/auth/profile HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:13] "GET /api/artisan/4cb449c0-1ce4-44d0-aad3-4e1511d3ad8e/products HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:15] "GET /api/auth/profile HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:48:15] "GET /api/artisan/4cb449c0-1ce4-44d0-aad3-4e1511d3ad8e/products HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:49:27] "GET /api/auth/session HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:49:27] "OPTIONS /api/products/ HTTP/1.1" 200 -
127.0.0.1 - - [30/Oct/2025 23:49:28] "[35m[1mPOST /api/products/ HTTP/1.1[0m" 201 -
127.0.0.1 - - [30/Oct/2025 23:49:29] "GET /api/artisan/4cb449c0-1ce4-44d0-aad3-4e1511d3ad8e/products HTTP/1.1" 200 -
